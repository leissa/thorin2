// RUN: rm -f %t.ll
// RUN: %thorin %s --output-ll %t.ll -o -

.plugin core;
.plugin memoir;

.fun .extern f(mem: %mem.M): [%mem.M, %core.I64] =
    .let assoc1 = %memoir.empty (%core.I32, %core.I64);
    .let assoc2 = %memoir.write (assoc1, 0:%core.I32, 10:%core.I64);
    .let assoc3 = %memoir.write (assoc2, 1:%core.I32, 11:%core.I64);
    return (mem, %memoir.read (assoc3, 0:%core.I32));
